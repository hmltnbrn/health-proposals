<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Commonwealth Fund - Healthcare Proposals</title>
  <style type="text/css">

    @font-face {
      font-family: InterfaceRegular;
      src: url('fonts/interface/InterFace_Rg.ttf');
    }

    @font-face {
      font-family: InterfaceBold;
      src: url('fonts/interface/InterFace_Bd.ttf');
    }

    @font-face {
      font-family: BerlingskeSerifTextExtrabold;
      src: url('fonts/berlingske/BerlingskeSerifText-Extrabold.otf');
    }

    * {
      box-sizing: border-box;
      -moz-box-sizing: border-box;
      -webkit-box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: InterfaceRegular;
    }

    p {
      margin: 0;
    }

    h1, h2, h3, h4 {
      margin: 0;
    }

    .body-container {
      width: 100%;
      margin: 0 auto;
      max-width: 1000px;
      padding: 0 25px 100px 25px;
    }

    .mobile-container {
      display: none;
    }

    .top-header {
      max-width: 700px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
    }

    h1 {
      font-family: BerlingskeSerifTextExtrabold;
      color: #f47a21;
      font-size: 36px;
      text-align: center;
    }

    .system-radios {
      display: flex;
      justify-content: center;
      margin: 25px;
    }

    .system-radios .radio-container {
      position: relative;
      margin: 5px;
    }

    .system-radios input[type="radio"] {
      opacity: 0.011;
      z-index: -1;
      position: absolute;
    }

    .system-radios input[type="radio"]:checked + label {
      background: #f47a21;
      color: #ffffff;
    }

    .system-radios label {
      font-family: InterfaceBold;
      font-size: 18px;
      background: #efeff1;
      color: #d2d1d5;
      padding: 15px 30px;
      cursor: pointer;
      z-index: 90;
      display: flex;
      text-align: center;
    }

    .top-text {
      margin: 20px 0 30px 0;
      color: #a3a5a9;
    }

    .top-text p {
      margin: 10px 0 0 0;
      font-size: 18px;
      line-height: 1.5;
      color: #5a5e68;
    }

    .descriptive-text.international-text {
      display: none;
    }

    .international-container {
      display: none;
    }

    .one-color {
      color: #49bdbb;
      fill: #49bdbb;
    }

    .two-color {
      color: #4b92bc;
      fill: #4b92bc;
    }

    .three-color {
      color: #034e7f;
      fill: #034e7f;
    }

    .plan-container, .mobile-plan-container {
      display: flex;
      flex-direction: column;
    }

    .big-block-container {
      display: flex;
      height: 110px;
      width: 100%;
      background: linear-gradient(to right, #2d8896, #033865);
    }

    .big-block {
      border: 1px solid white;
      padding: 5px 10px;
      display: flex;
      align-items: flex-end;
    }

    .big-block:first-child {
      border-left: none;
    }

    .big-block:last-child {
      border-right: none;
    }

    .big-block h2 {
      font-family: InterfaceBold;
      margin: 0;
      font-size: 20px;
      color: white;
    }

    .big-block.one {
      width: calc(100%/6);
    }

    .big-block.two {
      width: calc(100%/6*4);
    }

    .big-block.three {
      width: calc(100%/6);
    }

    .big-block.all {
      width: 100%;
      display: flex;
      justify-content: space-between;
    }

    .small-block-container {
      display: flex;
      height: 85px;
      width: 100%;
      background: linear-gradient(to right, #6ac3c6, #377098);
    }

    .small-block {
      width: calc(100%/6);
      border: 1px solid white;
      padding: 10px;
      display: flex;
      align-items: flex-end;
    }

    .small-block:first-child {
      border-left: none;
    }

    .small-block:last-child {
      border-right: none;
    }

    .small-block h3 {
      font-family: InterfaceRegular;
      margin: 0;
      font-size: 16px;
      color: white;
    }

    .outline {
      outline: 1px solid white;
    }

    .plan {
      width: 33.3%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .plan:first-child {
      margin-right: 0.1%;
      align-items: flex-start;
    }

    .plan:last-child {
      margin-left: 0.1%;
      align-items: flex-end;
    }

    .plan h2 {
      font-size: 15px;
      margin-bottom: 5px;
    }

    .plan-main {
      min-height: 100px;
      max-height: 100px;
      width: 100%;
    }

    .plan-main.one {
      background-color: #d7ecee;
    }

    .plan-main.two {
      background-color: #d7ecee;
    }

    .plan-main.three {
      background-color: #d7ecee;
    }

    .plan-description {
      padding: 5px 10px 0 10px;
    }

    .plan-description p {
      font-size: 14px;
      margin-bottom: 10px;
    }

    .timeline-container {
      min-height: 150px;
      position: relative;
    }

    .data-point {
      cursor: pointer;
    }

    div.tooltip {
      font-family: InterfaceRegular;
      position: absolute;
      padding: 5px;
      font-size: 12px;
      background: #eef8f9;
      border: 1px solid white;
      border-radius: 0px;
      min-height: 110px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .tooltip:first-child {
      border-left: 0;
    }

    .tooltip:last-child {
      border-right: 0;
    }

    .tooltip-name {
      font-family: InterfaceBold;
      color: #656c71;
      font-size: 16px;
    }

    .select-proposal-container {
      color: #a3a5a9;
      font-size: 25px;
      width: 100%;
      position: relative;
    }

    .compare-proposal-container {
      display: none;
      position: absolute;
      width: 100%;
      top: 0;
      left: 0;
    }

    p.select-proposal-text {
      width: 100%;
      text-align: center;
    }

    .compare-check {
      margin: 4px;
      background-color: #edf8f8;
      border-radius: 4px;
      overflow: auto;
      float: left;
    }

    .compare-bottom {
      display: flex;
      justify-content: flex-end;
    }

    .compare-check label {
      float: left;
      cursor: pointer;
    }

    .compare-check label span.outer-span {
      text-align: center;
      padding: 3px;
      display: block;
      border-radius: 4px;
    }

    .compare-check label span.outer-span > i {
      font-size: 16px;
      margin-left: 5px;
      margin-bottom: 1.6px;
    }

    .compare-check label input {
      position: absolute;
      z-index: -1;
    }

    .compare-check input + span.outer-span {
      font-family: InterfaceBold;
      color: #5fc4c4;
      border: 1px solid #5fc4c4;
      font-size: 10px;
      display: flex;
      align-items: center;
    }

    .compare-check input:checked + span.outer-span {
      background-color: #fef1e9;
      color: #f4822f;
      border-color: #f4822f;
    }

    div label input {
      margin-right: 100px;
    }

    div.full-tooltip {
      font-family: InterfaceRegular;
      display: flex;
      flex-direction: column;
      padding: 0 20px 0 0;
      margin: 0 20px 50px 0;
      font-size: 13px;
      width: calc(100%/3);
      border-right: 1.5px dotted #6ac3c6;
    }

    .full-tooltip .option-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      color: #f4822f;
      margin: 0 0 10px 0;
    }

    .full-tooltip .option-head h4 {
      font-family: InterfaceBold;
      margin: 0;
    }

    .full-tooltip .option-head .close-full-tooltip {
      cursor: pointer;
    }

    .full-tooltip h2 {
      font-family: InterfaceBold;
      color: #000000;
      font-size: 17px;
    }

    .full-tooltip h3 {
      font-family: InterfaceBold;
      color: #5a5e68;
      font-size: 14px;
      margin: 5px 0;
    }

    .full-tooltip p {
      font-size: 14px;
      color: #5a5e68;
      margin: 0 0 5px 0;
    }

    .full-tooltip ul {
      font-size: 14px;
      color: #5a5e68;
      padding-inline-start: 25px;
      margin: 5px 0;
    }

    .full-tooltip h3:empty, .full-tooltip p:empty {
      margin: 0;
    }

    .full-tooltip a {
      font-family: InterfaceBold;
      color: #f4822f;
      text-decoration: none;
      margin: 5px 0 0 0;
    }

  </style>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
  <div class="body-container">
    <div class="top-text">
      <div class="top-header">
        <h1 class="federal-header">Where Do U.S. Health Reform Proposals Fall on the Medicare-for-All Continuum?</h1>
        <h1 class="internation-header">Where Do International Health Systems Fall on the Coverage Continuum?</h1>
        <div class="system-radios">
          <div class="radio-container">
            <input type="radio" id="federal-radio" name="plans" value="federal" checked/>
            <label for="federal-radio">Federal Health Proposals</label>
          </div>
          <div class="radio-container">
            <input type="radio" id="interational-radio" name="plans" value="international"/>
            <label for="interational-radio">International Health Systems</label>
          </div>
        </div>
      </div>
      <div class="descriptive-text federal-text">
        <p>The health care debate in the 2020 presidential campaign so far has largely focused on Democratic candidates' support for "Medicare for all," or a national health insurance program. In fact, there have been a number of plans proposed to help the United States join other wealthy nations that have achieved universal coverage for their residents.</p>
        <p>Below, you can see where lawmakers' bills fall on the Medicare-for-all continuum â€“ ranging from those relying on a mix of private and publicly funded health insurance to those featuring only public coverage. You can also compare the benefits each coverage plan would provide, how people would pay for coverage and care, and how the bills would contain overall health care costs. Just click or tap the dots along the continuum.</p>
        <p>Select "International Health Systems" for a continuum of other countries' health systems.</p>
      </div>
      <div class="descriptive-text international-text">
        <p>The "Medicare for all" debate has sparked interest in how other wealthy nations provide affordable, universal health insurance coverage. While all eight of the health systems featured below include a mix of public and private insurance, we show where they differ in what public financing covers and doesn't cover and how much people pay out of pocket for their health care. Click or tap the dots to compare these countries on how they cover their residents, how people pay for coverage and care, and how health care costs are contained.</p>
        <p>Select "Federal Health Proposals" to see where federal bills proposed in the U.S. Congress fall on the "Medicare for all" continuum.</p>
      </div>
    </div>
    <div class="desktop-container">
      <div class="federal-container">
        <div class="plan-container">
          <div class="big-block-container">
            <div class="big-block one">
              <h2>Public Plan Features Added to Private Insurance</h2>
            </div>
            <div class="big-block two">
              <h2>A Choice of Public and Private Plans</h2>
            </div>
            <div class="big-block three">
              <h2>Single Public Plan for All</h2>
            </div>
          </div>
          <div class="small-block-container">
            <div class="small-block one">
              <h3>More Private Health Plan and Provider Regulation</h3>
            </div>
            <div class="small-block two">
              <h3>Medicare-Like Plan in the Marketplaces</h3>
            </div>
            <div class="small-block three">
              <h3>Medicare-Like Plan for People with Employer Coverage</h3>
            </div>
            <div class="small-block four">
              <h3>Medicare Buy-In for Americans Over 50</h3>
            </div>
            <div class="small-block five">
              <h3>Medicaid Buy-In for All</h3>
            </div>
            <div class="small-block six">
              <h3>National Health Insurance Program</h3>
            </div>
          </div>
        </div>
      </div>
      <div class="international-container">
        <div class="plan-container">
          <div class="big-block-container">
            <div class="big-block all">
              <h2>Greater Role for Private Financing</h2>
              <h2>Greater Role for Public Financing</h2>
            </div>
          </div>
          <div class="small-block-container">
            <div class="small-block one">
              <h3>Switzerland</h3>
            </div>
            <div class="small-block two">
              <h3>Australia</h3>
            </div>
            <div class="small-block three">
              <h3>Netherlands</h3>
            </div>
            <div class="small-block four">
              <h3>Canada</h3>
            </div>
            <div class="small-block five">
              <h3>Norway</h3>
            </div>
            <div class="small-block six">
              <h3>Germany</h3>
            </div>
            <div class="small-block seven">
              <h3>Sweden</h3>
            </div>
            <div class="small-block eight">
              <h3>United Kingdom</h3>
            </div>
          </div>
        </div>
      </div>
      <div id="timeline-container" class="timeline-container">
      </div>
      <div class="select-proposal-container">
        <div class="compare-proposal-container"></div>
        <p class="select-proposal-text">Select a <span>proposal</span> on the continuum to learn more and compare.</p>
      </div>
    </div>
    <div class="mobile-container">
      <!-- <div class="mobile-federal-container">
        <div class="mobile-plan-container">
          <div class="mobile-big-block-container">
            <div class="mobile-big-block one">
              <h2>Public Plan Features Added to Private Insurance</h2>
            </div>
            <div class="mobile-big-block two">
              <h2>A Choice of Public and Private Plans</h2>
            </div>
            <div class="mobile-big-block three">
              <h2>Single Public Plan for All</h2>
            </div>
          </div>
        </div>
      </div> -->
    </div>
  </div>
  <script src="https://d3js.org/d3.v3.min.js"></script>
  <script src="https://d3js.org/queue.v1.min.js"></script>
  <script type="text/javascript">

    d3.selection.prototype.show = function() {
      this.style('display', 'block');
      return this;
    }

    d3.selection.prototype.showFlex = function() {
      this.style('display', 'flex');
      return this;
    }

    d3.selection.prototype.hide = function() {
      this.style('display', 'none');
      return this;
    }

    d3.selection.prototype.toggle = function() {
      var isHidden = this.style('display') == 'none';
      return this.style('display', isHidden ? 'inherit' : 'none');
    }

    d3.selection.prototype.check = function() {
      this.property("checked", true);
      this.attr("checked", true);
      return this;
    }

    d3.selection.prototype.uncheck = function() {
      this.property("checked", false);
      this.attr("checked", false);
      return this;
    }

    var system = "federal";

    d3.selectAll("input[name='plans']").on("change", function() {
      system = this.value;
      if(system === "federal") {
        d3.select(".federal-container").show();
        d3.select(".international-container").hide();
        d3.select(".select-proposal-text span").text("proposal");
        d3.select("h1.federal-header").show();
        d3.select("h1.international-header").hide();
        d3.select(".descriptive-text.federal-text").show();
        d3.select(".descriptive-text.international-text").hide();
      }
      else if(system === "international") {
        d3.select(".international-container").show();
        d3.select(".federal-container").hide();
        d3.select(".select-proposal-text span").text("country");
        d3.select("h1.international-header").show();
        d3.select("h1.federal-header").hide();
        d3.select(".descriptive-text.international-text").show();
        d3.select(".descriptive-text.federal-text").hide();
      }
      renderAll();
    });

    document.addEventListener('click', function(e) {
      if(e.target && e.target.id == 'compare-input') {
        if(e.target.checked) {
          e.target.parentNode.querySelector(".material-icons").innerText = "check_circle";
        }
        else {
          e.target.parentNode.querySelector(".material-icons").innerText = "radio_button_unchecked";
        }
      }
      else if(e.target && e.target.className == 'material-icons x-full-tooltip') {
        d3.selectAll(`.compare-${e.target.id.split("-")[1]}`).uncheck();
        let event = new Event('change');
        document.querySelector(`.compare-${e.target.id.split("-")[1]}`).dispatchEvent(event);
      }
    });

    queue()
      .defer(d3.json, 'data/federal-proposals.json')
      .defer(d3.json, 'data/international-systems.json')
      .await(checkSize);

    window.addEventListener('resize', checkSize);
    window.addEventListener('orientationchange', checkSize);

    var federalData;
    var internationalData;
    var firstTime = true;
    var mobile = false;

    function checkSize(error, federalProposals, internationalSystems) {
      if(firstTime) {
        federalData = federalProposals;
        internationalData = internationalSystems;
        firstTime = false;
      }
      if(screen.width <= 768 || window.innerWidth <= 768) {
        mobile = true;
        d3.select(".mobile-container").show();
        d3.select(".desktop-container").hide();
      }
      else {
        mobile = false;
        d3.select(".desktop-container").show();
        d3.select(".mobile-container").hide();
      }
      renderAll();
    }

    function renderAll() {
      if(!mobile) {
        if(system === "federal") {
          renderDesktop(federalData);
        }
        else if(system === "international") {
          renderDesktop(internationalData);
        }
      }
      else {
        if(system === "federal") {
          renderMobile(federalData);
        }
        else if(system === "international") {
          renderMobile(internationalData);
        }
      }
    }

    function renderDesktop(proposals) {

      d3.select("#desktop-timeline").remove();

      var chartDiv = document.getElementById("timeline-container");
      var w = chartDiv.clientWidth,
          h = 40,
          margin = { top: 20, right: 0, bottom: 20, left: 0 },
          radius = 7;

      var svg = d3.select(".timeline-container").append("svg").attr({
        id: "desktop-timeline",
        width: w,
        height: h,
        transform: "translate(" + [0, -1*margin.top] + ")",
      });

      var xScale = d3.scale.linear()
        .domain([0, 100])
        .range([margin.left, w - margin.right]);

      var xAxis = d3.svg.axis()
        .scale(xScale)
        .orient("top")
        .ticks(0)
        .outerTickSize([3.5]);

      var colorLine = d3.scale.linear()
        .domain([0, 100])
        .range(['#4abdbc', '#054d7f'])
        .interpolate(d3.interpolateHcl);

      var defs = svg.append("defs");

      var gradient = defs.append("linearGradient")
        .attr("id", "svgGradient")
        .attr("x1", "0%")
        .attr("x2", "100%");

      gradient.append("stop")
        .attr('class', 'start')
        .attr("offset", "0%")
        .attr("stop-color", "#4abdbc")
        .attr("stop-opacity", 1);

      gradient.append("stop")
        .attr('class', 'end')
        .attr("offset", "100%")
        .attr("stop-color", "#054d7f")
        .attr("stop-opacity", 1);

      svg.append("g").attr({
        "class": "axis",
        "stroke": "white",
        "transform": "translate(" + [0, margin.top] + ")",
        "fill": "none",
        "stroke-width": "9px"
      }).call(xAxis);

      svg.append("g").attr({
        "class": "axis",
        "stroke": "url(#svgGradient)",
        "transform": "translate(" + [0, margin.top] + ")",
        "fill": "none",
        "stroke-width": "7px"
      }).call(xAxis);

      var proposalsLength = [...new Set(proposals.map(value => value.x))].length;
      var previousCxValue;
      var previousColorValue;
      var cxOffset = 2;
      var colorOffset = 2;
      var proposalsCounted = {};
      proposals.forEach(function(d) {
        proposalsCounted[d.x] = (proposalsCounted[d.x] || 0) + 1;
      });

      var circleAttrs = {
        cx: function(d) {
          if(previousCxValue && previousCxValue === d.x) cxOffset += (100/proposalsLength) / proposalsCounted[d.x];
          else cxOffset = 2;
          let cx = xScale((d.x * 100 / proposalsLength) + cxOffset);
          previousCxValue = d.x;
          return cx;
        },
        cy: 20,
        r: radius,
        stroke: "white",
        "stroke-width": "1px",
        fill: function(d) {
          if(previousColorValue && previousColorValue === d.x) colorOffset += (100/proposalsLength) / proposalsCounted[d.x];
          else colorOffset = 2;
          let color = colorLine((d.x * 100 / proposalsLength) + colorOffset);
          previousColorValue = d.x;
          return color;
        },
        class: "data-point"
      };

      var clicked = [];
      var checking = [];
      var moused = [];

      let circles = svg.selectAll("circle")
        .data(proposals);

      circles.enter()
        .append("circle")
        .attr(circleAttrs)
        .on("mouseover", mouseOver)
        .on("mouseout", function(d) {
          if(clicked.indexOf(d.id) === -1) {
            moused[d.id] = false;
            d3.select(`.tooltip-${d.id}`).transition()
              .style("opacity", 0);
            d3.selectAll(`.tooltip-${d.id}`)
              .remove();
          }
        })
        .on("click", function(d) {
          var index = clicked.indexOf(d.id);
          var checkIndex = checking.indexOf(d.id);
          if(index === -1) {
            clicked.push(d.id);
            if(!moused[d.id]) {
              mouseOver(d);
              moused[d.id] = true;
            }
          }
          else {
            moused[d.id] = false;
            d3.select(`.tooltip-${d.id}`).transition()
              .style("opacity", 0);
            d3.selectAll(`.tooltip-${d.id}`)
              .remove();
            if(index !== -1) clicked.splice(index, 1);
            if(checkIndex !== -1) checking.splice(checkIndex, 1);
            d3.select(`.full-tooltip-${d.id}`).transition()
              .style("opacity", 0);
            d3.selectAll(`.full-tooltip-${d.id}`)
              .remove();
            setTimeout(() => {
              redoOptions();
            }, 0);
          }
        });

      circles.exit().remove();

      function mouseOver(d) {
        if(clicked.indexOf(d.id) === -1) {
          moused[d.id] = true;
          var div = d3.select("#timeline-container")
            .append("div")
            .attr("class", `tooltip tooltip-${d.id}`)
            .style("opacity", 0);
          div.html(`
            <h2 class="tooltip-name">${d.name}</h2>
            <div class="compare-bottom">
              <div class="compare-check">
                <label>
                  <input type="checkbox" id="compare-input" class="compare-${d.id}"><span class="outer-span"><span>COMPARE</span> <i class="material-icons">radio_button_unchecked</i></span>
                </label>
              </div>
            </div>
          `)
            .style("width", `calc(100%/${proposalsLength})`)
            .style("left", (d3.event.target.cx.baseVal.value - 20) + "px")
            .style("top", (d3.event.target.cy.baseVal.value) + "px");
          div.transition()
            .style("opacity", 1);
          toggleCompareDivs(d);
        }
        else if(clicked.indexOf(d.id) !== -1 && !moused[d.id]) {
          moused[d.id] = true;
          var div = d3.select("#timeline-container")
            .append("div")
            .attr("class", `tooltip tooltip-${d.id}`)
            .style("opacity", 0);
          div.html(`
            <h2 class="tooltip-name">${d.name}</h2>
            <div class="compare-bottom">
              <div class="compare-check">
                <label>
                  <input type="checkbox" id="compare-input" class="compare-${d.id}"><span class="outer-span"><span>COMPARE</span> <i class="material-icons">radio_button_unchecked</i></span>
                </label>
              </div>
            </div>
          `)
            .style("width", `calc(100%/${proposalsLength})`)
            .style("left", (d3.event.target.cx.baseVal.value - 20) + "px")
            .style("top", (d3.event.target.cy.baseVal.value) + "px");
          div.transition()
            .style("opacity", 1);
          toggleCompareDivs(d);
        }
      }

      function toggleCompareDivs(d) {
        document.querySelector(`.compare-${d.id}`).addEventListener("change", function(e) {
          let checked = d3.select(this).property("checked");
          let index = checking.indexOf(d.id);
          if (checked && index === -1) {
            d3.select(".select-proposal-text").hide();
            d3.select(".compare-proposal-container").showFlex();
            checking.push(d.id);
            var divs = d3.select(".compare-proposal-container")
              .append("div")
              .attr("class", `full-tooltip full-tooltip-${d.id}`)
              .style("opacity", 0);
            divs.html(setFullTooltopHtml(d));
            divs.transition()
              .style("opacity", 1);
          }
          else if(!checked) {
            if(index !== -1) checking.splice(index, 1);
            d3.select(`.full-tooltip-${d.id}`).transition()
              .style("opacity", 0);
            d3.selectAll(`.full-tooltip-${d.id}`)
              .remove();
          }
          setTimeout(() => {
            redoOptions();
          }, 0);
        });
      }

      function setFullTooltopHtml(d) {
        if(system === "federal") {
          let transitionHeader = d.transition.time || "";
          let transitionText = d.transition.text || "";
          return `
            <div class="option-head">
              <h4 class="option-head-number">Option ${checking.length}</h4>
              <div class="close-full-tooltip">
                <i id="close-${d.id}" class="material-icons x-full-tooltip">close</i>
              </div>
            </div>
            <h2>${d.name}</h2>
            <h3>Sponsor</h3>
            <p>${d.sponsor}</p>
            <h3>New Coverage Enhancement or Option</h3>
            <p>${d.enhancement}</p>
            <h3>Who Is Eligible?</h3>
            <p>${d.eligibility}</p>
            <h3>How Do People Pay for Coverage and Health Care?</h3>
            <p>${d.cost}</p>
            <h3>How Are Health Care Costs Managed?</h3>
            <p>${d.management}</p>
            <h3>${transitionHeader}</h3>
            <p>${transitionText}</p>
            <a href="${d.link}" target="_blank">Read the bill</a>
          `;
        }
        else if(system === "international") {
          return `
            <div class="option-head">
              <h4 class="option-head-number">Option ${checking.length}</h4>
              <div class="close-full-tooltip">
                <i id="close-${d.id}" class="material-icons x-full-tooltip">close</i>
              </div>
            </div>
            <h2>${d.name}</h2>
            <h3>How Are People Covered?</h3>
            <p>${d.coverage.text}</p>
            <ul>
              ${d.coverage.bullets.map(b => `<li>${b}</li>`).join("")}
            </ul>
            <h3>How Do People Pay for Coverage and Health Care?</h3>
            ${d.cost.map(c => `<p>${c}</p>`).join("")}
            <h3>How Are Health Care Costs Managed?</h3>
            ${d.management.map(m => `<p>${m}</p>`).join("")}
            ${d.links.map(l => `<a href="${l.link}" target="_blank">${l.text}</a>`).join("")}
          `;
        }
      }

      function redoOptions() {
        d3.selectAll(".full-tooltip").each(function(d, i) {
          d3.select(this).select(".option-head-number").text(`Option ${i + 1}`);
        });
        if(checking.length === 0) {
          d3.select(".select-proposal-text").show();
          d3.select(".compare-proposal-container").hide();
        }
      }

    }

    function renderMobile(proposals) {
    }

  </script>
</body>
</html>
